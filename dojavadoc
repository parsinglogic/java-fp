#!/bin/zsh

# remove the output dir
rm -rf javadocs

# run javadoc
javadoc -quiet -public -sourcepath source/main/java -d javadocs  -subpackages dev  -classpath ../local-repo/io/mola/galimatias/galimatias/0.2.0/galimatias-0.2.0.jar -Xdoclint:none

# remove the timestamp commemnt
rg --files -g '*.html' javadocs | xargs -L 1 -I f sed -i '' -e '/<!-- Generated by javadoc/d' f


rg --files -g '*.html' javadocs | xargs -L 1 -I f sed -i '' -e '/<meta name="dc.created" content=/s/content=".*/content="2023-07-29">/' f


# Copy the better stylesheet into javadocs
cp stylesheet.css javadocs

